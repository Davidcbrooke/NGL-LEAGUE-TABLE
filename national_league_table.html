<!DOCTYPE html>
<html>
<head>
  <title>National Gymnastics League Table</title>
  <script src="https://cdn.jsdelivr.net/npm/gridjs/dist/gridjs.umd.js"></script>
  <link href="https://cdn.jsdelivr.net/npm/gridjs/dist/theme/mermaid.min.css" rel="stylesheet" />
  <style>
    body {
      font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Open Sans", "Helvetica Neue", sans-serif;
      background: #f9f9fb;
      color: #333;
      margin: 0;
      padding: 2rem;
    }
    h1 {
      text-align: center;
      color: #222;
      margin-bottom: 2rem;
    }
    #filters {
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      gap: 1rem;
      margin-bottom: 1.5rem;
    }
    #filters select {
      padding: 0.5rem 1rem;
      border: 1px solid #ccc;
      border-radius: 0.75rem;
      font-size: 1rem;
      background: white;
      min-width: 200px;
    }
    #table {
      max-width: 1000px;
      margin: 0 auto;
    }
  </style>
</head>
<body>
  <h1>National Gymnastics League</h1>

  <div id="filters">
    <select id="ageGroupFilter" onchange="renderTable()">
      <option disabled selected>Loading Age Groups...</option>
    </select>
    <select id="trainingFilter" onchange="renderTable()">
      <option disabled selected>Loading Training Categories...</option>
    </select>
    <select id="regionFilter" onchange="renderTable()">
      <option disabled selected>Loading Regions...</option>
    </select>
    <select id="clubFilter" onchange="renderTable()">
      <option disabled selected>Loading Clubs...</option>
    </select>
    <select id="apparatusFilter" onchange="renderTable()">
      <option disabled selected>Loading Apparatus...</option>
    </select>
  </div>

  <div id="table"></div>

  <script>
    const allData = [
  {
    "Gymnast": "Gymnast 26", "Score": 12.98, "Age Group": "15+", "Training Hours": "2–5 hrs", "Club": "Club C", "Region": "East", "Apparatus": "Vault", "Rank": 1
  },
  {
    "Gymnast": "Gymnast 23", "Score": 12.83, "Age Group": "6–8", "Training Hours": "2–5 hrs", "Club": "Club A", "Region": "North", "Apparatus": "Vault", "Rank": 2
  },
  {
    "Gymnast": "Gymnast 7", "Score": 12.79, "Age Group": "15+", "Training Hours": "2–5 hrs", "Club": "Club F", "Region": "Scotland", "Apparatus": "Vault", "Rank": 3
  },
  {
    "Gymnast": "Gymnast 26", "Score": 12.67, "Age Group": "12–14", "Training Hours": "6–10 hrs", "Club": "Club A", "Region": "North", "Apparatus": "Vault", "Rank": 4
  },
  {
    "Gymnast": "Gymnast 28", "Score": 12.66, "Age Group": "15+", "Training Hours": "6–10 hrs", "Club": "Club C", "Region": "East", "Apparatus": "Vault", "Rank": 5
  },
  {
    "Gymnast": "Gymnast 3", "Score": 11.79, "Age Group": "9–11", "Training Hours": "6–10 hrs", "Club": "Club B", "Region": "South", "Apparatus": "Vault", "Rank": 6
  },
  {
    "Gymnast": "Gymnast 2", "Score": 10.91, "Age Group": "15+", "Training Hours": "2–5 hrs", "Club": "Club B", "Region": "South", "Apparatus": "Vault", "Rank": 7
  },
  {
    "Gymnast": "Gymnast 8", "Score": 10.77, "Age Group": "12–14", "Training Hours": "2–5 hrs", "Club": "Club E", "Region": "Central", "Apparatus": "Vault", "Rank": 8
  },
  {
    "Gymnast": "Gymnast 6", "Score": 10.61, "Age Group": "15+", "Training Hours": "2–5 hrs", "Club": "Club E", "Region": "Central", "Apparatus": "Vault", "Rank": 9
  },
  {
    "Gymnast": "Gymnast 9", "Score": 10.28, "Age Group": "6–8", "Training Hours": "2–5 hrs", "Club": "Club D", "Region": "West", "Apparatus": "Vault", "Rank": 10
  }
  // FULL LIST CONTINUES...
];

    function populateFilters() {
      const unique = (key) => [...new Set(allData.map(row => row[key] || '').filter(v => v.trim() !== ''))].sort();

      populateSelect('ageGroupFilter', unique('Age Group'), 'All Age Groups');
      populateSelect('trainingFilter', unique('Training Hours'), 'All Training Hours');
      populateSelect('regionFilter', unique('Region'), 'All Regions');
      populateSelect('clubFilter', unique('Club'), 'All Clubs');
      populateSelect('apparatusFilter', unique('Apparatus'), 'All Apparatus');
    }

    function populateSelect(id, values, placeholder) {
      const sel = document.getElementById(id);
      const selected = sel.value;
      sel.innerHTML = `<option value="">${placeholder}</option>` +
        values.map(v => `<option value="${v}" ${v === selected ? 'selected' : ''}>${v}</option>`).join('');
    }

    function renderTable() {
      const filters = {
        'Age Group': document.getElementById('ageGroupFilter').value,
        'Training Hours': document.getElementById('trainingFilter').value,
        'Region': document.getElementById('regionFilter').value,
        'Club': document.getElementById('clubFilter').value,
        'Apparatus': document.getElementById('apparatusFilter').value
      };

      const filtered = allData.filter(row =>
        (!filters['Age Group'] || row['Age Group'] === filters['Age Group']) &&
        (!filters['Training Hours'] || row['Training Hours'] === filters['Training Hours']) &&
        (!filters['Region'] || row['Region'] === filters['Region']) &&
        (!filters['Club'] || row['Club'] === filters['Club']) &&
        (!filters['Apparatus'] || row['Apparatus'] === filters['Apparatus'])
      );

      const table = new gridjs.Grid({
        columns: ["Rank", "Gymnast", "Score", "Age Group", "Training Hours", "Club", "Region", "Apparatus"],
        data: filtered.map(row => [row.Rank, row.Gymnast, row.Score, row['Age Group'], row['Training Hours'], row.Club, row.Region, row.Apparatus]),
        pagination: { enabled: true, limit: 10 },
        search: true,
        sort: true
      });

      document.getElementById("table").innerHTML = "";
      table.render(document.getElementById("table"));
    }

    document.addEventListener('DOMContentLoaded', () => {
  populateFilters();
  renderTable();
});
  </script>
</body>
</html>
